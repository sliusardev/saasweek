<script setup lang="ts">
import axios from 'axios';
import { Button } from '@/components/ui/button';

const loginWithProvider = async (provider: string) => {
    try {
        const response = await axios.get(route('socialite.auth.redirect', provider));
        if (response.data) {
            window.location.href = response.data;
        }
    } catch (error) {
        console.error(`${provider} auth error:`, error);
    } finally {

    }
};
</script>

<template>
    <div class="flex flex-wrap gap-2 mb-6 justify-center">
        <Button type="button" class="w-1/3 flex items-center justify-center gap-2 border-black"
                :variant="'outline'"
                @click="loginWithProvider('google')"
        >
            <svg viewBox="0 0 16 16" fill="#000000" xmlns="http://www.w3.org/2000/svg" id="Google-Fill--Streamline-Remix-Fill" height="16" width="16">
                <desc>
                    Google Fill Streamline Icon: https://streamlinehq.com
                </desc>
                <path d="M2.0424266666666666 5.006093333333333C3.139393333333333 2.82728 5.393893333333333 1.3333333333333333 8 1.3333333333333333c1.796933333333333 0 3.3059999999999996 0.6606333333333333 4.4605999999999995 1.7363666666666666l-1.9121333333333332 1.9121266666666665C9.8576 4.321233333333333 8.978733333333333 3.9848466666666664 8 3.9848466666666664c-1.7363866666666665 0 -3.206106666666667 1.1727333333333334 -3.7302999999999997 2.7484866666666665 -0.13336666666666666 0.39999999999999997 -0.20912666666666668 0.8272666666666666 -0.20912666666666668 1.2666666666666666s0.07576 0.8666666666666667 0.20912666666666668 1.2666666666666666C4.793893333333333 10.8424 6.263613333333333 12.015133333333333 8 12.015133333333333c0.8969333333333332 0 1.6605999999999999 -0.2363333333333333 2.2576 -0.6363333333333333 0.706 -0.4727333333333333 1.1757333333333333 -1.1787999999999998 1.3302666666666667 -2.0121333333333333H8v-2.5787999999999998h6.278733333333333c0.07886666666666667 0.4363333333333333 0.12126666666666666 0.8909333333333334 0.12126666666666666 1.3636666666666666 0 2.0302666666666664 -0.7272666666666666 3.739333333333333 -1.9879333333333333 4.8999999999999995C11.309066666666666 14.069733333333334 9.799999999999999 14.666666666666666 8 14.666666666666666c-2.6061066666666663 0 -4.8606066666666665 -1.4939333333333331 -5.957573333333333 -3.6727333333333334C1.59092 10.093933333333332 1.3333333333333333 9.075733333333332 1.3333333333333333 8s0.25758666666666663 -2.0939266666666665 0.7090933333333332 -2.9939066666666663Z" stroke-width="0.6667"></path>
            </svg>
            Google

        </Button>
        <Button type="button" class="w-1/3 flex items-center justify-center gap-2 border-black"
                :variant="'outline'"
                @click="loginWithProvider('github')"
        >
            <svg viewBox="0 0 16 16" fill="#000000" xmlns="http://www.w3.org/2000/svg" id="Github-Fill--Streamline-Remix-Fill" height="16" width="16">
                <desc>
                    Github Fill Streamline Icon: https://streamlinehq.com
                </desc>
                <path d="M8.000666666666666 1.3333333333333333C4.31732 1.3333333333333333 1.3339866666666667 4.316666666666666 1.3339866666666667 8c0 2.9499999999999997 1.9083333333333332 5.441666666666666 4.558333333333334 6.325 0.3333333333333333 0.05833333333333333 0.4583333333333333 -0.14166666666666666 0.4583333333333333 -0.31666666666666665 0 -0.15833333333333333 -0.008333333333333333 -0.6833333333333332 -0.008333333333333333 -1.2416666666666667 -1.675 0.30833333333333335 -2.1083333333333334 -0.4083333333333333 -2.2416666666666663 -0.7833333333333333 -0.075 -0.19166666666666665 -0.39999999999999997 -0.7833333333333333 -0.6833333333333332 -0.9416666666666667 -0.2333333333333333 -0.125 -0.5666666666666667 -0.43333333333333335 -0.008333333333333333 -0.44166666666666665 0.5249999999999999 -0.008333333333333333 0.9 0.4833333333333333 1.025 0.6833333333333332 0.6 1.0083333333333333 1.5583333333333331 0.7249999999999999 1.9416666666666667 0.5499999999999999 0.05833333333333333 -0.43333333333333335 0.2333333333333333 -0.7249999999999999 0.4250133333333333 -0.8916666666666666 -1.4833466666666668 -0.16666666666666666 -3.0333466666666666 -0.7416666666666667 -3.0333466666666666 -3.2916666666666665 0 -0.7249999999999999 0.2583333333333333 -1.325 0.6833333333333332 -1.7916666666666665 -0.06666666666666667 -0.16666666666666666 -0.3 -0.8499999999999999 0.06666666666666667 -1.7666666666666666 0 0 0.5583333333333333 -0.175 1.8333333333333333 0.6833333333333332 0.5333466666666666 -0.15 1.1000133333333333 -0.225 1.66668 -0.225 0.5666666666666667 0 1.1333333333333333 0.075 1.6666666666666665 0.225 1.275 -0.8666666666666667 1.8333333333333333 -0.6833333333333332 1.8333333333333333 -0.6833333333333332 0.3666666666666667 0.9166666666666666 0.13333333333333333 1.5999999999999999 0.06666666666666667 1.7666666666666666 0.42499999999999993 0.4666666666666666 0.6833333333333332 1.0583333333333331 0.6833333333333332 1.7916666666666665 0 2.558333333333333 -1.5583333333333331 3.125 -3.0416666666666665 3.2916666666666665 0.24166666666666664 0.20833333333333331 0.45 0.6083333333333333 0.45 1.2333333333333334 0 0.8916666666666666 -0.008333333333333333 1.6083333333333334 -0.008333333333333333 1.8333333333333333 0 0.175 0.125 0.3833333333333333 0.4583333333333333 0.31666666666666665C12.839333333333332 13.408866666666665 14.666599999999999 10.864199999999999 14.667333333333334 8c0 -3.6833333333333336 -2.983333333333333 -6.666666666666666 -6.666666666666666 -6.666666666666666Z" stroke-width="0.6667"></path>
            </svg>
           GitHub
        </Button>
    </div>
</template>
